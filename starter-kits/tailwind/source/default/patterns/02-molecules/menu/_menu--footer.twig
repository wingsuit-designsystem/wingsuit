{#
Classes
#}
{% set parent_list_attributes = create_attribute().addClass(pattern_configuration('menu', variant, 'parent_list_classes')) %}
{% set parent_list_item_attributes = create_attribute().addClass(pattern_configuration('menu', variant, 'parent_list_item_classes')) %}
{% set parent_link_attributes = create_attribute().addClass(pattern_configuration('menu', variant, 'parent_link_classes')) %}
{% set child_list_attributes = create_attribute().addClass(pattern_configuration('menu', variant, 'child_list_classes')) %}
{% set child_list_item_attributes = create_attribute().addClass(pattern_configuration('menu', variant, 'child_list_item_classes')) %}
{% set child_link_attributes = create_attribute().addClass(pattern_configuration('menu', variant, 'child_link_classes')) %}

{#
Template
#}
{% set cells = [] %}
{% for item in items %}
  {% set cell %}
    <ul role="menu" {{ parent_list_attributes }}>
      <li role="none" {{ parent_list_item_attributes }}>

        {# -- Main parent item w/o link  -- #}
        <a href="#" {{ parent_link_attributes }}>
          {{ item.title }}
        </a>

        {# -- Child items -- #}
        {% if item.below %}
          <ul role="menu" {{ child_list_attributes }}>
            {% for child in item.below %}
              <li role="none" {{ child_list_item_attributes }}>
                <a href="{{ child.url }}" {{ child_link_attributes }}>
                  {{ child.title }}
                </a>
              </li>
            {% endfor %}
          </ul>
        {% endif %}
      </li>
    </ul>
  {% endset %}

  {% set cells = cells|merge([cell]) %}
{% endfor %}

<nav aria-label="footer">
  {{ pattern('grid', {cells:cells, columns: cells|length, gutter: 'default' }, null ) }}
</nav>
